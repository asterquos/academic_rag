# 艺术设计概念分析RAG系统需求分析文档

## 1. 项目概述

### 1.1 项目背景
构建一个专门针对艺术设计领域的智能检索增强生成（RAG）系统，用于科研分析和追踪设计概念的历史演进、研究者关系网络以及相关研究主题的时间脉络。系统需要在几天内快速完成基础功能，并保持高度灵活性以支持后续手动代码修改和功能扩展。

### 1.2 核心目标
- 实现概念时间轴追踪和可视化分析
- 构建研究者关系网络和合作模式分析
- 提供精准的文献检索和上下文展示
- 支持多概念对比分析和趋势预测
- **保持代码模块化和可扩展性，便于计算机科研人员手动修改RAG模块的代码**

## 2. 功能需求分析

### 2.1 核心分析功能

#### 2.1.1 概念演进分析
**功能描述**：追踪特定概念在时间维度上的发展脉络
- **概念首次出现定位**：识别概念在文献库中的首次出现时间、作者、文献标题
- **时间序列分析**：按年份统计概念出现频率，生成时间趋势图
- **概念关联分析**：发现与目标概念同时出现的相关概念
- **上下文提取**：提供概念出现的完整语境和定义演变

**输入**：概念关键词（如"包豪斯"、"装饰艺术"、"现代主义"）
**输出**：
- 首次出现记录（时间、作者、文献、上下文）
- 时间频率分布图表
- 相关概念网络图
- 概念定义演变时间线

#### 2.1.2 研究者网络分析
**功能描述**：分析研究特定主题的学者群体及其关系
- **研究者识别**：提取研究特定概念的所有作者
- **合作关系映射**：分析作者间的合作模式和共现研究主题
- **时间序列研究**：按时间顺序展示研究者的研究轨迹
- **引用关系分析**：构建研究者间的学术影响力网络

**输入**：概念关键词或研究主题
**输出**：
- 研究者列表及基本信息
- 合作关系网络图
- 研究时间线
- 互引关系图谱

#### 2.1.3 多概念对比分析
**功能描述**：同时分析多个相关概念的发展趋势和关联性
- **并行时间线对比**：多概念在同一时间轴上的发展对比
- **频率趋势对比**：不同概念在各时期的热度变化
- **交叉影响分析**：概念间的相互影响和替代关系
- **主题聚类分析**：识别概念群组和研究领域划分

**输入**：多个概念关键词（如"包豪斯" vs "装饰艺术" vs "现代主义"）
**输出**：
- 对比时间线图表
- 频率趋势对比图
- 概念关联强度矩阵
- 主题聚类可视化

### 2.2 检索与展示功能

#### 2.2.1 智能检索
- **语义检索**：支持自然语言查询和概念检索
- **多维筛选**：按年份、作者、分类、文章特点等维度筛选
- **模糊匹配**：支持部分匹配和同义词扩展
- **组合查询**：支持AND、OR、NOT等逻辑操作

#### 2.2.2 结果展示
- **关键词高亮**：在原文中高亮显示匹配的关键词
- **上下文窗口**：提供关键词周围的完整语境
- **文献链接**：提供原文献的完整信息和访问链接
- **相关度排序**：按相关性和重要性对结果排序

### 2.3 可视化功能

#### 2.3.1 时间轴可视化
- 概念出现频率时间线
- 多概念对比时间线
- 研究者活跃度时间分布

#### 2.3.2 网络关系图
- 概念关联网络
- 研究者合作网络
- 引用关系网络

#### 2.3.3 统计图表
- 频率分布直方图
- 趋势分析折线图
- 占比分析饼图

## 3. 数据源规格

### 3.1 Excel数据结构（实际格式）
| 字段名称 | 数据类型 | 必填 | 说明 | 数据处理要求 |
|---------|---------|------|------|-------------|
| 年份 | 整数 | 是 | 文献发表年份 | **需要填充处理**：每本杂志年份只出现一次，需在预处理时填充到所有相关行 |
| 刊号 | 字符串 | 是 | 期刊标识号 | 标准化格式处理 |
| 分类 | 字符串 | 是 | 文献分类标签 | 分类标准化和映射 |
| 是否入选 | 布尔值 | 是 | 筛选标记 | 转换为布尔值进行筛选 |
| 文章名称+副标题 | 字符串 | 是 | 完整文章标题 | 主副标题分离和标准化 |
| 作者名称 | 字符串 | 是 | 作者信息（可能多作者） | 多作者分离和标准化 |
| 全文 | 长文本 | 是 | 文章完整内容 | 文本清洗和分段处理 |
| 选图情况 | 字符串 | 否 | **当前忽略处理**，预留多模态图片信息 | 暂时跳过，保留字段结构 |
| 文章特点 | 字符串 | 否 | 文章特征标签 | 标签标准化和分类 |
| 作者介绍 | 长文本 | 否 | 作者背景信息 | **新增字段**：用于研究者网络分析 |

### 3.2 数据预处理要求
- **编码格式**：UTF-8编码处理中英混合内容
- **年份填充**：检测每个刊号对应的年份，并填充到该刊号的所有文章行
- **文本预处理**：分词、去停用词、实体识别
- **作者标准化**：处理同一作者的不同表示形式，结合作者介绍信息
- **时间标准化**：统一年份格式和时间范围验证
- **选图情况处理**：当前版本忽略此字段，但保留数据结构以备后续多模态扩展

## 4. 快速开发技术架构

### 4.1 核心技术栈（快速实现）
- **LLM模型**：Google Gemini Flash 2.0
- **向量数据库**：Chroma或FAISS（轻量级，便于快速部署）
- **Web框架**：Streamlit或Gradio（快速UI构建）
- **数据处理**：Pandas + NumPy（Excel处理和数据分析）
- **可视化**：Plotly或Matplotlib（交互式图表）

### 4.2 模块化设计原则（便于手动修改）
```
├── data_processing/          # 数据处理模块
│   ├── excel_parser.py      # Excel解析和预处理
│   ├── text_processor.py    # 文本清洗和标准化
│   └── data_validator.py    # 数据验证和质量检查
├── analysis/                # 分析模块
│   ├── concept_analyzer.py  # 概念时间轴分析
│   ├── author_network.py    # 作者关系网络
│   └── comparative_analysis.py # 多概念对比
├── retrieval/               # 检索模块
│   ├── vector_store.py      # 向量存储和检索
│   ├── semantic_search.py   # 语义搜索
│   └── result_ranker.py     # 结果排序和过滤
├── visualization/           # 可视化模块
│   ├── timeline_chart.py    # 时间轴图表
│   ├── network_graph.py     # 网络关系图
│   └── comparison_chart.py  # 对比分析图表
├── multimodal/              # 多模态预留模块
│   ├── image_processor.py   # 图像处理接口
│   └── multimodal_rag.py    # 图文混合检索
└── config/                  # 配置模块
    ├── settings.py          # 系统配置
    └── prompts.py           # LLM提示词模板
```

### 4.3 多模态扩展接口（预留设计）
- **图像处理模块**：预留图片解析和理解能力
- **图文关联**：支持图片标题（caption）和文本内容关联
- **多模态检索**：支持图文混合查询和结果展示
- **接口标准化**：定义统一的多模态数据接口

### 4.4 性能要求（科研环境适配）
- **响应时间**：简单查询<3秒，复杂分析<15秒（科研可接受）
- **数据规模**：支持万级文档处理
- **内存优化**：支持批处理大文件，避免内存溢出

## 5. 用户交互设计

### 5.1 查询界面
- **概念输入框**：支持单个或多个概念输入
- **高级筛选面板**：时间范围、作者、分类等筛选选项
- **查询历史**：保存和重用查询记录

### 5.2 结果展示界面
- **多视图切换**：列表视图、时间轴视图、网络图视图
- **交互式图表**：支持缩放、筛选、钻取操作
- **导出功能**：支持结果导出为PDF、Excel等格式

### 5.3 分析报告界面
- **自动报告生成**：基于分析结果生成结构化报告
- **可视化配置**：用户可自定义图表样式和内容
- **分享功能**：支持分析结果分享和协作

## 6. 系统扩展性

### 6.1 数据源扩展
- **多格式支持**：未来支持PDF、Word等文档格式
- **数据库连接**：支持直接连接学术数据库
- **API接口**：提供数据导入和查询API

### 6.2 功能模块扩展
- **预测分析**：基于历史数据预测概念发展趋势
- **推荐系统**：推荐相关概念和研究文献
- **协作功能**：支持团队协作和注释功能

### 6.3 多语言支持
- **界面国际化**：支持中英文界面切换
- **多语言分析**：支持中英文混合内容的语义分析
- **跨语言检索**：支持跨语言概念匹配和检索

## 7. 质量保证要求

### 7.1 数据质量
- **准确性验证**：确保概念识别和时间定位的准确性
- **完整性检查**：验证数据导入的完整性和一致性
- **重复处理**：识别和处理重复文献和概念

### 7.2 系统可靠性
- **错误处理**：优雅处理各种异常情况
- **数据备份**：定期备份知识库和分析结果
- **系统监控**：监控系统性能和使用情况



## 8. 代码修改友好性设计

### 8.1 配置文件设计
```python
# config/settings.py
class Config:
    # 数据处理配置
    EXCEL_ENCODING = 'utf-8'
    YEAR_FILL_STRATEGY = 'forward_fill'  # 年份填充策略
    IGNORE_COLUMNS = ['选图情况']        # 忽略的列
    
    # 模型配置
    LLM_MODEL = 'gemini-flash-2.0'
    EMBEDDING_MODEL = 'text-embedding-004'
    
    # 分析参数
    CONCEPT_WINDOW_SIZE = 100           # 概念上下文窗口
    TIME_GRANULARITY = 'year'          # 时间粒度
    
    # 可视化配置
    CHART_THEME = 'plotly_white'
    TIMELINE_HEIGHT = 600
```
```

### 8.2 模块独立性设计
- 每个分析模块可独立运行和测试
- 清晰的输入输出接口定义
- 最小化模块间依赖
- 提供模块级别的配置覆盖选项